import{e as i,o as r,m as N,u as T,a as e,w as t,r as s,F as b,f as S,g as c,b as n,l as w,c as U,p as E,d as u,t as _}from"./main-CYPWvOCH.js";import{n as G,e as $,m as j}from"./model-aYdN6bid.js";import{M as H,a as v}from"./js.cookie-BbVLt4nS.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";const W=["href"],x={__name:"Link",props:{href:String,page:String,props:Object},setup(h){const o=h;async function g(m){m.preventDefault(),await G(o.href)}return(m,k)=>(r(),i("a",{href:o.href,onClick:g},[N(m.$slots,"default")],8,W))}},q={key:0,id:"preloader",style:{"z-index":"9999"}},J={class:"menu"},K={key:1,href:"#",class:"nav-link"},Q={class:"item"},R={key:2,class:"menu"},X={class:"item"},Y={class:"nav-item"},Z={class:"item",style:{color:"#FA8072"}},ee=["src"],te={__name:"Layout",setup(h){const o=T();g(),P();function g(){$.on("navigate:start",()=>{o.commit("updateStateProperty",{objectName:"loading",value:!0})}),$.on("navigate:finish",()=>{o.commit("updateStateProperty",{objectName:"loading",value:!1})})}function m(){o.commit("updateStateProperty",{objectName:"drawer",value:!o.state.drawer})}function k(){let p=new FormData;p.append("message","VocÃª saiu, volte sempre!"),j.apiPost("logout",p).then(a=>{v.remove("_userid"),v.remove("_username"),v.remove("_useremail"),v.remove("_userlevel"),v.remove("_userlevelname"),o.commit("updateStateProperty",{objectName:"snackbar",value:{type:"success",message:a.data.success,status:!0},mode:"replace"}),window.location.href=`${o.state.urlBase}/login`})}function P(){j.apiGet("menus").then(p=>{o.commit("updateStateProperty",{objectName:"menus",value:p.data.menu,mode:"replace"})})}return(p,a)=>{const d=s("v-icon"),B=s("v-list"),V=s("v-navigation-drawer"),C=s("v-toolbar-title"),f=s("v-btn"),F=s("v-avatar"),L=s("v-app-bar"),D=s("v-container"),M=s("v-main"),z=s("v-app");return r(),i(b,null,[e(z,{style:{"background-color":"rgb(238, 240, 242)"}},{default:t(()=>[c(o).state.loading?(r(),i("div",q,a[1]||(a[1]=[n("span",{class:"loader"},null,-1)]))):S("",!0),e(V,{app:"",modelValue:c(o).state.drawer,"onUpdate:modelValue":a[0]||(a[0]=l=>c(o).state.drawer=l),clipped:"",temporary:""},{default:t(()=>[e(B,{dense:""},{default:t(()=>[n("ul",J,[(r(!0),i(b,null,w(c(o).state.menus,(l,A)=>(r(),i("li",{class:"nav-item",key:A},[l.children?(r(),i("a",K,[n("div",Q,[e(d,null,{default:t(()=>[u(_(l.icon),1)]),_:2},1024),n("span",null,_(l.title),1)])])):(r(),U(x,{key:0,href:`${c(o).state.urlBase}/${l.route}`,class:"nav-link"},{default:t(()=>[n("div",{class:"item",style:E(l.title==="Sair"?"color: #FA8072;":"")},[e(d,null,{default:t(()=>[u(_(l.icon),1)]),_:2},1024),n("span",null,_(l.title),1)],4)]),_:2},1032,["href"])),l.children?(r(),i("ul",R,[(r(!0),i(b,null,w(l.children,(y,O)=>(r(),i("li",{class:"nav-item",key:O},[e(x,{href:`${c(o).state.urlBase}/${y.route}`,class:"nav-link"},{default:t(()=>[n("div",X,[e(d,null,{default:t(()=>[u(_(y.icon),1)]),_:2},1024),n("span",null,_(y.title),1)])]),_:2},1032,["href"])]))),128))])):S("",!0)]))),128)),n("li",Y,[n("a",{href:"javascript:void(0)",onClick:k},[n("div",Z,[e(d,null,{default:t(()=>a[2]||(a[2]=[u("mdi-exit-to-app")])),_:1}),a[3]||(a[3]=n("span",null," Sair ",-1))])])])])]),_:1})]),_:1},8,["modelValue"]),e(L,{app:"",style:{padding:"0 10px"}},{default:t(()=>[e(C,null,{default:t(()=>a[4]||(a[4]=[u("FW-PHP")])),_:1}),e(f,{icon:""},{default:t(()=>[e(d,null,{default:t(()=>a[5]||(a[5]=[u("mdi-bell-outline")])),_:1})]),_:1}),e(f,{icon:""},{default:t(()=>[e(d,null,{default:t(()=>a[6]||(a[6]=[u("mdi-email-outline")])),_:1})]),_:1}),e(f,{icon:""},{default:t(()=>[e(F,null,{default:t(()=>[n("img",{src:`${c(o).state.urlBase}/img/user2.jpg`,alt:"User Avatar",style:{width:"40px",height:"40px"}},null,8,ee)]),_:1})]),_:1}),e(f,{icon:"",onClick:m},{default:t(()=>[e(d,null,{default:t(()=>a[7]||(a[7]=[u("mdi-menu")])),_:1})]),_:1})]),_:1}),e(M,null,{default:t(()=>[e(D,{fluid:""},{default:t(()=>[N(p.$slots,"default",{},void 0,!0)]),_:3})]),_:3})]),_:3}),e(H)],64)}}},ae=I(te,[["__scopeId","data-v-d36274eb"]]),re=Object.freeze(Object.defineProperty({__proto__:null,default:ae},Symbol.toStringTag,{value:"Module"}));export{ae as L,x as _,re as a};
