import{r as F,j as le,k as K,p as G,l as ne,m as ie,q as se,s as O,t as oe,x as ue,y as z,z as h,A as N,B as V,C as W,I as B,a as n,D as w,E as U,G as q,H as re,_ as de,u as ve,c as ce,o as T,w as g,b as r,d as A,e as H,F as fe,J as ge,n as me,g as be,K as D}from"./app-Dy2k2t4j.js";import{L as ye}from"./Layout-Cy_jY-is.js";import{V as _e,a as pe,b as he,_ as xe}from"./Create-BbspXc54.js";import Ve from"./Delete-AP9wrIdK.js";import{V as Pe,a as ke,b as Le}from"./VDialog-CPk1vyo2.js";import{u as Ie,a as J,b as Ce,c as X,e as Se,f as we,g as Ne,h as Q,i as Y,j as Be,V as L,k as Ae,l as E}from"./index-9ImYvF4S.js";import"./js.cookie-CLSAEaur.js";import"./VList-CM7NTc6p.js";import"./VContainer-hgjjEvB9.js";function Fe(){const e=F([]);le(()=>e.value=[]);function _(t,b){e.value[b]=t}return{refs:e,updateRef:_}}const $e=G({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:B,default:"$first"},prevIcon:{type:B,default:"$prev"},nextIcon:{type:B,default:"$next"},lastIcon:{type:B,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...Be(),...Y(),...Q(),...Ne(),...we(),...Se(),...X({tag:"nav"}),...W(),...Ce({variant:"text"})},"VPagination"),Re=K()({name:"VPagination",props:$e(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,_){let{slots:t,emit:b}=_;const s=ne(e,"modelValue"),{t:c,n:P}=ie(),{isRtl:y}=se(),{themeClasses:k}=O(e),{width:$}=oe(),I=ue(-1);z(void 0,{scoped:!0});const{resizeRef:R}=Ie(a=>{if(!a.length)return;const{target:o,contentRect:u}=a[0],f=o.querySelector(".v-pagination__list > *");if(!f)return;const m=u.width,S=f.offsetWidth+parseFloat(getComputedStyle(f).marginRight)*2;I.value=v(m,S)}),d=h(()=>parseInt(e.length,10)),i=h(()=>parseInt(e.start,10)),l=h(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):I.value>=0?I.value:v($.value,58));function v(a,o){const u=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(Number(((a-o*u)/o).toFixed(2))))}const C=h(()=>{if(d.value<=0||isNaN(d.value)||d.value>Number.MAX_SAFE_INTEGER)return[];if(l.value<=0)return[];if(l.value===1)return[s.value];if(d.value<=l.value)return N(d.value,i.value);const a=l.value%2===0,o=a?l.value/2:Math.floor(l.value/2),u=a?o:o+1,f=d.value-o;if(u-s.value>=0)return[...N(Math.max(1,l.value-1),i.value),e.ellipsis,d.value];if(s.value-f>=(a?1:0)){const m=l.value-1,S=d.value-m+i.value;return[i.value,e.ellipsis,...N(m,S)]}else{const m=Math.max(1,l.value-2),S=m===1?s.value:s.value-Math.ceil(m/2)+i.value;return[i.value,e.ellipsis,...N(m,S),e.ellipsis,d.value]}});function x(a,o,u){a.preventDefault(),s.value=o,u&&b(u,o)}const{refs:Z,updateRef:ee}=Fe();z({VPaginationBtn:{color:V(()=>e.color),border:V(()=>e.border),density:V(()=>e.density),size:V(()=>e.size),variant:V(()=>e.variant),rounded:V(()=>e.rounded),elevation:V(()=>e.elevation)}});const ae=h(()=>C.value.map((a,o)=>{const u=f=>ee(f,o);if(typeof a=="string")return{isActive:!1,key:`ellipsis-${o}`,page:a,props:{ref:u,ellipsis:!0,icon:!0,disabled:!0}};{const f=a===s.value;return{isActive:f,key:a,page:P(a),props:{ref:u,ellipsis:!1,icon:!0,disabled:!!e.disabled||Number(e.length)<2,color:f?e.activeColor:e.color,"aria-current":f,"aria-label":c(f?e.currentPageAriaLabel:e.pageAriaLabel,a),onClick:m=>x(m,a)}}}})),p=h(()=>{const a=!!e.disabled||s.value<=i.value,o=!!e.disabled||s.value>=i.value+d.value-1;return{first:e.showFirstLastPage?{icon:y.value?e.lastIcon:e.firstIcon,onClick:u=>x(u,i.value,"first"),disabled:a,"aria-label":c(e.firstAriaLabel),"aria-disabled":a}:void 0,prev:{icon:y.value?e.nextIcon:e.prevIcon,onClick:u=>x(u,s.value-1,"prev"),disabled:a,"aria-label":c(e.previousAriaLabel),"aria-disabled":a},next:{icon:y.value?e.prevIcon:e.nextIcon,onClick:u=>x(u,s.value+1,"next"),disabled:o,"aria-label":c(e.nextAriaLabel),"aria-disabled":o},last:e.showFirstLastPage?{icon:y.value?e.firstIcon:e.lastIcon,onClick:u=>x(u,i.value+d.value-1,"last"),disabled:o,"aria-label":c(e.lastAriaLabel),"aria-disabled":o}:void 0}});function j(){var o;const a=s.value-i.value;(o=Z.value[a])==null||o.$el.focus()}function te(a){a.key===U.left&&!e.disabled&&s.value>Number(e.start)?(s.value=s.value-1,q(j)):a.key===U.right&&!e.disabled&&s.value<i.value+d.value-1&&(s.value=s.value+1,q(j))}return J(()=>n(e.tag,{ref:R,class:["v-pagination",k.value,e.class],style:e.style,role:"navigation","aria-label":c(e.ariaLabel),onKeydown:te,"data-test":"v-pagination-root"},{default:()=>[n("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&n("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[t.first?t.first(p.value.first):n(L,w({_as:"VPaginationBtn"},p.value.first),null)]),n("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[t.prev?t.prev(p.value.prev):n(L,w({_as:"VPaginationBtn"},p.value.prev),null)]),ae.value.map((a,o)=>n("li",{key:a.key,class:["v-pagination__item",{"v-pagination__item--is-active":a.isActive}],"data-test":"v-pagination-item"},[t.item?t.item(a):n(L,w({_as:"VPaginationBtn"},a.props),{default:()=>[a.page]})])),n("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[t.next?t.next(p.value.next):n(L,w({_as:"VPaginationBtn"},p.value.next),null)]),e.showFirstLastPage&&n("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[t.last?t.last(p.value.last):n(L,w({_as:"VPaginationBtn"},p.value.last),null)])])]})),{}}}),Te=G({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Y(),...Q(),...X(),...W()},"VTable"),De=K()({name:"VTable",props:Te(),setup(e,_){let{slots:t,emit:b}=_;const{themeClasses:s}=O(e),{densityClasses:c}=Ae(e);return J(()=>n(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!t.top,"v-table--has-bottom":!!t.bottom,"v-table--hover":e.hover},s.value,c.value,e.class],style:e.style},{default:()=>{var P,y,k;return[(P=t.top)==null?void 0:P.call(t),t.default?n("div",{class:"v-table__wrapper",style:{height:re(e.height)}},[n("table",null,[t.default()])]):(y=t.wrapper)==null?void 0:y.call(t),(k=t.bottom)==null?void 0:k.call(t)]}})),{}}}),Ee={"data-cell":"Foto"},Me=["src"],je={"data-cell":"Nome"},ze={"data-cell":"Email"},Ue={"data-cell":"Nível"},qe={"data-cell":"Ações"},He=["onClick"],Ke=["onClick"],M=5,Ge={__name:"Index",props:{list:{type:Array,required:!0}},setup(e){const _=e,t=ve(),b=F(""),s=F([]),c=F(1),P=h(()=>(s.value=_.list,b.value&&(s.value=_.list.filter(i=>Object.values(i).some(l=>String(l).toLowerCase().includes(b.value.toLowerCase())))),k(s.value))),y=h(()=>Math.ceil(s.value.length/M));function k(i){const l=(c.value-1)*M;return i.slice(l,l+M)}function $(){t.commit("updateStateProperty",{objectName:"modal",value:!0})}function I(i){d(i),t.commit("updateStateProperty",{objectName:"modal",value:!0})}function R(i){d(i),t.commit("updateStateProperty",{objectName:"modalDel",value:!0})}function d(i){t.commit("updateStateProperty",{objectName:"user",value:{id:i.id,name:i.name,email:i.email,password:"",level:i.level,cover:i.cover},mode:"replace"})}return(i,l)=>(T(),ce(ye,null,{default:g(()=>[n(_e,null,{default:g(()=>[n(pe,{cols:"12"},{default:g(()=>[n(Pe,null,{default:g(()=>[n(ke,{style:{display:"flex","justify-content":"space-between",padding:"15px"}},{default:g(()=>[l[4]||(l[4]=r("span",null," Usuário ",-1)),n(L,{color:"green",onClick:$},{default:g(()=>[n(E,null,{default:g(()=>l[2]||(l[2]=[A("mdi-plus")])),_:1,__:[2]}),l[3]||(l[3]=A(" Usuário "))]),_:1,__:[3]})]),_:1,__:[4]}),n(Le,null,{default:g(()=>[n(he,{modelValue:b.value,"onUpdate:modelValue":l[0]||(l[0]=v=>b.value=v),label:"Pesquisar","prepend-inner-icon":"mdi-magnify",outlined:"",dense:"",class:"mb-4",variant:"outlined"},null,8,["modelValue"]),n(De,null,{default:g(()=>[l[7]||(l[7]=r("thead",null,[r("tr",null,[r("th",null,"Foto"),r("th",null,"Nome"),r("th",null,"Email"),r("th",null,"Nível"),r("th",null,"Ações")])],-1)),r("tbody",null,[(T(!0),H(fe,null,ge(P.value,(v,C)=>(T(),H("tr",{key:C,class:me({"even-row":C%2===0,"odd-row":C%2!==0})},[r("td",Ee,[r("img",{src:v.cover?v.path:`${be(t).state.urlBase}/img/image-default.jpg`,alt:"",style:{width:"40px","border-radius":"50%","margin-top":"7px"}},null,8,Me)]),r("td",je,D(v.name),1),r("td",ze,D(v.email),1),r("td",Ue,D(v.level_name),1),r("td",qe,[r("span",{onClick:x=>I(v),title:"Editar"},[n(E,null,{default:g(()=>l[5]||(l[5]=[A("mdi-file-edit-outline")])),_:1,__:[5]})],8,He),r("span",{onClick:x=>R(v),title:"Excluir"},[n(E,null,{default:g(()=>l[6]||(l[6]=[A("mdi-trash-can-outline")])),_:1,__:[6]})],8,Ke)])],2))),128))])]),_:1,__:[7]}),n(Re,{modelValue:c.value,"onUpdate:modelValue":l[1]||(l[1]=v=>c.value=v),length:y.value,class:"mt-4"},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1})]),_:1}),n(xe),n(Ve)]),_:1}))}},ta=de(Ge,[["__scopeId","data-v-5a7144a3"]]);export{ta as default};
