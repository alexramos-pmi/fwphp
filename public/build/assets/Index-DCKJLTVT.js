import{r as R,j as le,k as K,p as G,l as ne,m as ie,q as se,s as O,t as ue,x as oe,y as z,z as h,A as w,B as V,C as W,I as A,a as n,D as N,E as U,G as q,H as re,_ as de,u as ve,c as ce,o as D,w as g,b as r,d as B,e as H,F as fe,J as ge,n as me,K as F}from"./app-v0I5nIHM.js";import{L as be}from"./Layout-C8ZjyiRt.js";import{V as ye,a as _e,b as pe,_ as he}from"./Create-BMla73Lu.js";import xe from"./Delete-B25TYNJ9.js";import{V as Ve,a as Pe,b as ke}from"./VDialog-CS-kcWKK.js";import{u as Le,a as J,b as Ie,c as X,e as Ce,f as Se,g as Ne,h as Q,i as Y,j as we,V as L,k as Ae,l as E}from"./index-C6cCJQYD.js";import"./js.cookie-5ay4t5Hp.js";import"./VList-C1brAWUr.js";import"./VContainer-BplIwnFG.js";function Be(){const e=R([]);le(()=>e.value=[]);function _(t,b){e.value[b]=t}return{refs:e,updateRef:_}}const Fe=G({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:A,default:"$first"},prevIcon:{type:A,default:"$prev"},nextIcon:{type:A,default:"$next"},lastIcon:{type:A,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...we(),...Y(),...Q(),...Ne(),...Se(),...Ce(),...X({tag:"nav"}),...W(),...Ie({variant:"text"})},"VPagination"),Re=K()({name:"VPagination",props:Fe(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,_){let{slots:t,emit:b}=_;const s=ne(e,"modelValue"),{t:c,n:P}=ie(),{isRtl:y}=se(),{themeClasses:k}=O(e),{width:$}=ue(),I=oe(-1);z(void 0,{scoped:!0});const{resizeRef:T}=Le(a=>{if(!a.length)return;const{target:u,contentRect:o}=a[0],f=u.querySelector(".v-pagination__list > *");if(!f)return;const m=o.width,S=f.offsetWidth+parseFloat(getComputedStyle(f).marginRight)*2;I.value=v(m,S)}),d=h(()=>parseInt(e.length,10)),i=h(()=>parseInt(e.start,10)),l=h(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):I.value>=0?I.value:v($.value,58));function v(a,u){const o=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(Number(((a-u*o)/u).toFixed(2))))}const C=h(()=>{if(d.value<=0||isNaN(d.value)||d.value>Number.MAX_SAFE_INTEGER)return[];if(l.value<=0)return[];if(l.value===1)return[s.value];if(d.value<=l.value)return w(d.value,i.value);const a=l.value%2===0,u=a?l.value/2:Math.floor(l.value/2),o=a?u:u+1,f=d.value-u;if(o-s.value>=0)return[...w(Math.max(1,l.value-1),i.value),e.ellipsis,d.value];if(s.value-f>=(a?1:0)){const m=l.value-1,S=d.value-m+i.value;return[i.value,e.ellipsis,...w(m,S)]}else{const m=Math.max(1,l.value-2),S=m===1?s.value:s.value-Math.ceil(m/2)+i.value;return[i.value,e.ellipsis,...w(m,S),e.ellipsis,d.value]}});function x(a,u,o){a.preventDefault(),s.value=u,o&&b(o,u)}const{refs:Z,updateRef:ee}=Be();z({VPaginationBtn:{color:V(()=>e.color),border:V(()=>e.border),density:V(()=>e.density),size:V(()=>e.size),variant:V(()=>e.variant),rounded:V(()=>e.rounded),elevation:V(()=>e.elevation)}});const ae=h(()=>C.value.map((a,u)=>{const o=f=>ee(f,u);if(typeof a=="string")return{isActive:!1,key:`ellipsis-${u}`,page:a,props:{ref:o,ellipsis:!0,icon:!0,disabled:!0}};{const f=a===s.value;return{isActive:f,key:a,page:P(a),props:{ref:o,ellipsis:!1,icon:!0,disabled:!!e.disabled||Number(e.length)<2,color:f?e.activeColor:e.color,"aria-current":f,"aria-label":c(f?e.currentPageAriaLabel:e.pageAriaLabel,a),onClick:m=>x(m,a)}}}})),p=h(()=>{const a=!!e.disabled||s.value<=i.value,u=!!e.disabled||s.value>=i.value+d.value-1;return{first:e.showFirstLastPage?{icon:y.value?e.lastIcon:e.firstIcon,onClick:o=>x(o,i.value,"first"),disabled:a,"aria-label":c(e.firstAriaLabel),"aria-disabled":a}:void 0,prev:{icon:y.value?e.nextIcon:e.prevIcon,onClick:o=>x(o,s.value-1,"prev"),disabled:a,"aria-label":c(e.previousAriaLabel),"aria-disabled":a},next:{icon:y.value?e.prevIcon:e.nextIcon,onClick:o=>x(o,s.value+1,"next"),disabled:u,"aria-label":c(e.nextAriaLabel),"aria-disabled":u},last:e.showFirstLastPage?{icon:y.value?e.firstIcon:e.lastIcon,onClick:o=>x(o,i.value+d.value-1,"last"),disabled:u,"aria-label":c(e.lastAriaLabel),"aria-disabled":u}:void 0}});function j(){var u;const a=s.value-i.value;(u=Z.value[a])==null||u.$el.focus()}function te(a){a.key===U.left&&!e.disabled&&s.value>Number(e.start)?(s.value=s.value-1,q(j)):a.key===U.right&&!e.disabled&&s.value<i.value+d.value-1&&(s.value=s.value+1,q(j))}return J(()=>n(e.tag,{ref:T,class:["v-pagination",k.value,e.class],style:e.style,role:"navigation","aria-label":c(e.ariaLabel),onKeydown:te,"data-test":"v-pagination-root"},{default:()=>[n("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&n("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[t.first?t.first(p.value.first):n(L,N({_as:"VPaginationBtn"},p.value.first),null)]),n("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[t.prev?t.prev(p.value.prev):n(L,N({_as:"VPaginationBtn"},p.value.prev),null)]),ae.value.map((a,u)=>n("li",{key:a.key,class:["v-pagination__item",{"v-pagination__item--is-active":a.isActive}],"data-test":"v-pagination-item"},[t.item?t.item(a):n(L,N({_as:"VPaginationBtn"},a.props),{default:()=>[a.page]})])),n("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[t.next?t.next(p.value.next):n(L,N({_as:"VPaginationBtn"},p.value.next),null)]),e.showFirstLastPage&&n("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[t.last?t.last(p.value.last):n(L,N({_as:"VPaginationBtn"},p.value.last),null)])])]})),{}}}),$e=G({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Y(),...Q(),...X(),...W()},"VTable"),Te=K()({name:"VTable",props:$e(),setup(e,_){let{slots:t,emit:b}=_;const{themeClasses:s}=O(e),{densityClasses:c}=Ae(e);return J(()=>n(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!t.top,"v-table--has-bottom":!!t.bottom,"v-table--hover":e.hover},s.value,c.value,e.class],style:e.style},{default:()=>{var P,y,k;return[(P=t.top)==null?void 0:P.call(t),t.default?n("div",{class:"v-table__wrapper",style:{height:re(e.height)}},[n("table",null,[t.default()])]):(y=t.wrapper)==null?void 0:y.call(t),(k=t.bottom)==null?void 0:k.call(t)]}})),{}}}),De={"data-cell":"#"},Ee={"data-cell":"Nome"},Me={"data-cell":"Email"},je={"data-cell":"Nível"},ze={"data-cell":"Ações"},Ue=["onClick"],qe=["onClick"],M=5,He={__name:"Index",props:{list:{type:Array,required:!0}},setup(e){const _=e,t=ve(),b=R(""),s=R([]),c=R(1),P=h(()=>(s.value=_.list,b.value&&(s.value=_.list.filter(i=>Object.values(i).some(l=>String(l).toLowerCase().includes(b.value.toLowerCase())))),k(s.value))),y=h(()=>Math.ceil(s.value.length/M));function k(i){const l=(c.value-1)*M;return i.slice(l,l+M)}function $(){t.commit("updateStateProperty",{objectName:"modal",value:!0})}function I(i){d(i),t.commit("updateStateProperty",{objectName:"modal",value:!0})}function T(i){d(i),t.commit("updateStateProperty",{objectName:"modalDel",value:!0})}function d(i){t.commit("updateStateProperty",{objectName:"user",value:{id:i.id,name:i.name,email:i.email,password:"",level:i.level,setor:i.setor},mode:"replace"})}return(i,l)=>(D(),ce(be,null,{default:g(()=>[n(ye,null,{default:g(()=>[n(_e,{cols:"12"},{default:g(()=>[n(Ve,null,{default:g(()=>[n(Pe,{style:{display:"flex","justify-content":"space-between",padding:"15px"}},{default:g(()=>[l[4]||(l[4]=r("span",null," Usuário ",-1)),n(L,{color:"green",onClick:$},{default:g(()=>[n(E,null,{default:g(()=>l[2]||(l[2]=[B("mdi-plus")])),_:1,__:[2]}),l[3]||(l[3]=B(" Usuário "))]),_:1,__:[3]})]),_:1,__:[4]}),n(ke,null,{default:g(()=>[n(pe,{modelValue:b.value,"onUpdate:modelValue":l[0]||(l[0]=v=>b.value=v),label:"Pesquisar","prepend-inner-icon":"mdi-magnify",outlined:"",dense:"",class:"mb-4",variant:"outlined"},null,8,["modelValue"]),n(Te,null,{default:g(()=>[l[7]||(l[7]=r("thead",null,[r("tr",null,[r("th",null,"#"),r("th",null,"Nome"),r("th",null,"Email"),r("th",null,"Nível"),r("th",null,"Ações")])],-1)),r("tbody",null,[(D(!0),H(fe,null,ge(P.value,(v,C)=>(D(),H("tr",{key:C,class:me({"even-row":C%2===0,"odd-row":C%2!==0})},[r("td",De,F(v.id),1),r("td",Ee,F(v.name),1),r("td",Me,F(v.email),1),r("td",je,F(v.level_name),1),r("td",ze,[r("span",{onClick:x=>I(v),title:"Editar"},[n(E,null,{default:g(()=>l[5]||(l[5]=[B("mdi-file-edit-outline")])),_:1,__:[5]})],8,Ue),r("span",{onClick:x=>T(v),title:"Excluir"},[n(E,null,{default:g(()=>l[6]||(l[6]=[B("mdi-trash-can-outline")])),_:1,__:[6]})],8,qe)])],2))),128))])]),_:1,__:[7]}),n(Re,{modelValue:c.value,"onUpdate:modelValue":l[1]||(l[1]=v=>c.value=v),length:y.value,class:"mt-4"},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1})]),_:1}),n(he),n(xe)]),_:1}))}},ea=de(He,[["__scopeId","data-v-9527d36f"]]);export{ea as default};
