import{r as $,j as ie,k as W,p as J,l as se,m as re,q as oe,s as X,t as ue,x as de,y as q,z as V,A as w,B as P,C as Q,I as B,a as l,D as N,E as H,G as K,H as ve,_ as ce,u as fe,c as G,o as A,w as b,b as u,f as ge,g as E,d as F,e as O,F as me,J as be,n as ye,K as M}from"./app-D5R8GsTy.js";import{u as _e,a as Y,b as pe,c as Z,e as he,f as xe,g as Ve,h as ee,i as ae,j as ke,V as I,k as Pe,l as j}from"./index-DvbHVMXY.js";import{a as Le}from"./js.cookie-Cz0CWeBA.js";import{L as Ie}from"./Layout-C6pnzFqX.js";import{V as Ce,a as Se,b as Ne,_ as we}from"./Create-DOOqv0cr.js";import Be from"./Delete-D7Uxzx2Z.js";import{V as Ae,a as Fe,b as $e}from"./VDialog-CIfv7mW_.js";import"./Message-Bm-k09B0.js";import"./VList-DKcg5prp.js";import"./VContainer-C1UIknkw.js";function Re(){const e=$([]);ie(()=>e.value=[]);function m(t,_){e.value[_]=t}return{refs:e,updateRef:m}}const Te=J({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:B,default:"$first"},prevIcon:{type:B,default:"$prev"},nextIcon:{type:B,default:"$next"},lastIcon:{type:B,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...ke(),...ae(),...ee(),...Ve(),...xe(),...he(),...Z({tag:"nav"}),...Q(),...pe({variant:"text"})},"VPagination"),De=W()({name:"VPagination",props:Te(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,m){let{slots:t,emit:_}=m;const n=se(e,"modelValue"),{t:f,n:k}=re(),{isRtl:p}=oe(),{themeClasses:L}=X(e),{width:R}=ue(),C=de(-1);q(void 0,{scoped:!0});const{resizeRef:T}=_e(a=>{if(!a.length)return;const{target:r,contentRect:o}=a[0],g=r.querySelector(".v-pagination__list > *");if(!g)return;const y=o.width,S=g.offsetWidth+parseFloat(getComputedStyle(g).marginRight)*2;C.value=s(y,S)}),v=V(()=>parseInt(e.length,10)),d=V(()=>parseInt(e.start,10)),i=V(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):C.value>=0?C.value:s(R.value,58));function s(a,r){const o=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(Number(((a-r*o)/r).toFixed(2))))}const c=V(()=>{if(v.value<=0||isNaN(v.value)||v.value>Number.MAX_SAFE_INTEGER)return[];if(i.value<=0)return[];if(i.value===1)return[n.value];if(v.value<=i.value)return w(v.value,d.value);const a=i.value%2===0,r=a?i.value/2:Math.floor(i.value/2),o=a?r:r+1,g=v.value-r;if(o-n.value>=0)return[...w(Math.max(1,i.value-1),d.value),e.ellipsis,v.value];if(n.value-g>=(a?1:0)){const y=i.value-1,S=v.value-y+d.value;return[d.value,e.ellipsis,...w(y,S)]}else{const y=Math.max(1,i.value-2),S=y===1?n.value:n.value-Math.ceil(y/2)+d.value;return[d.value,e.ellipsis,...w(y,S),e.ellipsis,v.value]}});function h(a,r,o){a.preventDefault(),n.value=r,o&&_(o,r)}const{refs:D,updateRef:te}=Re();q({VPaginationBtn:{color:P(()=>e.color),border:P(()=>e.border),density:P(()=>e.density),size:P(()=>e.size),variant:P(()=>e.variant),rounded:P(()=>e.rounded),elevation:P(()=>e.elevation)}});const le=V(()=>c.value.map((a,r)=>{const o=g=>te(g,r);if(typeof a=="string")return{isActive:!1,key:`ellipsis-${r}`,page:a,props:{ref:o,ellipsis:!0,icon:!0,disabled:!0}};{const g=a===n.value;return{isActive:g,key:a,page:k(a),props:{ref:o,ellipsis:!1,icon:!0,disabled:!!e.disabled||Number(e.length)<2,color:g?e.activeColor:e.color,"aria-current":g,"aria-label":f(g?e.currentPageAriaLabel:e.pageAriaLabel,a),onClick:y=>h(y,a)}}}})),x=V(()=>{const a=!!e.disabled||n.value<=d.value,r=!!e.disabled||n.value>=d.value+v.value-1;return{first:e.showFirstLastPage?{icon:p.value?e.lastIcon:e.firstIcon,onClick:o=>h(o,d.value,"first"),disabled:a,"aria-label":f(e.firstAriaLabel),"aria-disabled":a}:void 0,prev:{icon:p.value?e.nextIcon:e.prevIcon,onClick:o=>h(o,n.value-1,"prev"),disabled:a,"aria-label":f(e.previousAriaLabel),"aria-disabled":a},next:{icon:p.value?e.prevIcon:e.nextIcon,onClick:o=>h(o,n.value+1,"next"),disabled:r,"aria-label":f(e.nextAriaLabel),"aria-disabled":r},last:e.showFirstLastPage?{icon:p.value?e.firstIcon:e.lastIcon,onClick:o=>h(o,d.value+v.value-1,"last"),disabled:r,"aria-label":f(e.lastAriaLabel),"aria-disabled":r}:void 0}});function U(){var r;const a=n.value-d.value;(r=D.value[a])==null||r.$el.focus()}function ne(a){a.key===H.left&&!e.disabled&&n.value>Number(e.start)?(n.value=n.value-1,K(U)):a.key===H.right&&!e.disabled&&n.value<d.value+v.value-1&&(n.value=n.value+1,K(U))}return Y(()=>l(e.tag,{ref:T,class:["v-pagination",L.value,e.class],style:e.style,role:"navigation","aria-label":f(e.ariaLabel),onKeydown:ne,"data-test":"v-pagination-root"},{default:()=>[l("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&l("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[t.first?t.first(x.value.first):l(I,N({_as:"VPaginationBtn"},x.value.first),null)]),l("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[t.prev?t.prev(x.value.prev):l(I,N({_as:"VPaginationBtn"},x.value.prev),null)]),le.value.map((a,r)=>l("li",{key:a.key,class:["v-pagination__item",{"v-pagination__item--is-active":a.isActive}],"data-test":"v-pagination-item"},[t.item?t.item(a):l(I,N({_as:"VPaginationBtn"},a.props),{default:()=>[a.page]})])),l("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[t.next?t.next(x.value.next):l(I,N({_as:"VPaginationBtn"},x.value.next),null)]),e.showFirstLastPage&&l("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[t.last?t.last(x.value.last):l(I,N({_as:"VPaginationBtn"},x.value.last),null)])])]})),{}}}),Ee=J({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...ae(),...ee(),...Z(),...Q()},"VTable"),Me=W()({name:"VTable",props:Ee(),setup(e,m){let{slots:t,emit:_}=m;const{themeClasses:n}=X(e),{densityClasses:f}=Pe(e);return Y(()=>l(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!t.top,"v-table--has-bottom":!!t.bottom,"v-table--hover":e.hover},n.value,f.value,e.class],style:e.style},{default:()=>{var k,p,L;return[(k=t.top)==null?void 0:k.call(t),t.default?l("div",{class:"v-table__wrapper",style:{height:ve(e.height)}},[l("table",null,[t.default()])]):(p=t.wrapper)==null?void 0:p.call(t),(L=t.bottom)==null?void 0:L.call(t)]}})),{}}}),je={"data-cell":"Foto"},ze=["src"],Ue={"data-cell":"Nome"},qe={"data-cell":"Email"},He={"data-cell":"Nível"},Ke={"data-cell":"Ações"},Ge=["onClick"],Oe=["onClick"],z=5,We={__name:"Index",props:{list:{type:Array,required:!0}},setup(e){const m=e,t=fe(),_=$(""),n=$([]),f=$(1),k=Le.get("_userlevel"),p=V(()=>(n.value=m.list,_.value&&(n.value=m.list.filter(i=>Object.values(i).some(s=>String(s).toLowerCase().includes(_.value.toLowerCase())))),R(n.value))),L=V(()=>Math.ceil(n.value.length/z));function R(i){const s=(f.value-1)*z;return i.slice(s,s+z)}function C(){t.commit("updateStateProperty",{objectName:"modal",value:!0})}function T(i){d(i),t.commit("updateStateProperty",{objectName:"modal",value:!0})}function v(i){d(i),t.commit("updateStateProperty",{objectName:"modalDel",value:!0})}function d(i){t.commit("updateStateProperty",{objectName:"user",value:{id:i.id,name:i.name,email:i.email,password:"",level:i.level,cover:i.cover},mode:"replace"})}return(i,s)=>(A(),G(Ie,null,{default:b(()=>[l(Ce,null,{default:b(()=>[l(Se,{cols:"12"},{default:b(()=>[l(Ae,null,{default:b(()=>[l(Fe,{style:{display:"flex","justify-content":"space-between",padding:"15px"}},{default:b(()=>[s[4]||(s[4]=u("span",null," Usuário ",-1)),E(k)>1?(A(),G(I,{key:0,color:"green",onClick:C},{default:b(()=>[l(j,null,{default:b(()=>s[2]||(s[2]=[F("mdi-plus")])),_:1,__:[2]}),s[3]||(s[3]=F(" Usuário "))]),_:1,__:[3]})):ge("",!0)]),_:1,__:[4]}),l($e,null,{default:b(()=>[l(Ne,{modelValue:_.value,"onUpdate:modelValue":s[0]||(s[0]=c=>_.value=c),label:"Pesquisar","prepend-inner-icon":"mdi-magnify",outlined:"",dense:"",class:"mb-4",variant:"outlined"},null,8,["modelValue"]),l(Me,null,{default:b(()=>[s[7]||(s[7]=u("thead",null,[u("tr",null,[u("th",null,"Foto"),u("th",null,"Nome"),u("th",null,"Email"),u("th",null,"Nível"),u("th",null,"Ações")])],-1)),u("tbody",null,[(A(!0),O(me,null,be(p.value,(c,h)=>(A(),O("tr",{key:h,class:ye({"even-row":h%2===0,"odd-row":h%2!==0})},[u("td",je,[u("img",{src:c.cover?c.path:`${E(t).state.urlBase}/img/image-default.jpg`,alt:"",style:{width:"40px","border-radius":"50%","margin-top":"7px"}},null,8,ze)]),u("td",Ue,M(c.name),1),u("td",qe,M(c.email),1),u("td",He,M(c.level_name),1),u("td",Ke,[u("span",{onClick:D=>T(c),title:"Editar"},[l(j,null,{default:b(()=>s[5]||(s[5]=[F("mdi-file-edit-outline")])),_:1,__:[5]})],8,Ge),u("span",{onClick:D=>v(c),title:"Excluir"},[l(j,null,{default:b(()=>s[6]||(s[6]=[F("mdi-trash-can-outline")])),_:1,__:[6]})],8,Oe)])],2))),128))])]),_:1,__:[7]}),l(De,{modelValue:f.value,"onUpdate:modelValue":s[1]||(s[1]=c=>f.value=c),length:L.value,class:"mt-4"},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1})]),_:1}),l(we,{ers:m.ers,els:m.els,etas:m.etas,level:E(k)},null,8,["ers","els","etas","level"]),l(Be)]),_:1}))}},ia=ce(We,[["__scopeId","data-v-23a16e62"]]);export{ia as default};
